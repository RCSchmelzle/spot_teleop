
first run tests on NiViewer 2
NiViewer2 -devices


cd ~/Projects/teleoperation_spot/system_ws
source /opt/ros/jazzy/setup.bash
source install/setup.bash
python3 -m xtion_bringup.xtion_mapper_gui

python3 -m xtion_bringup.gen_xtion_cameras
ros2 launch xtion_bringup multi_xtion.launch.py

rviz2


Record based on the generated names 
cd ~/Projects/teleoperation_spot/system_ws
source /opt/ros/jazzy/setup.bash
source install/setup.bash

ros2 bag record -o xtion_test_bag \
  /camA/rgb/image_raw \
  /camA/rgb/camera_info \
  /camA/depth_raw/image \
  /camA/depth_raw/camera_info \
  /camB/rgb/image_raw \
  /camB/rgb/camera_info \
  /camB/depth_raw/image \
  /camB/depth_raw/camera_info \
  /tf \
  /tf_static





STAMP=$(date +%Y%m%d_%H%M%S)

ros2 bag record -o "xtion_${STAMP}.bag" \
  --regex \
  '/.*/rgb/image_raw|/.*/rgb/camera_info|/.*/depth_raw/image|/.*/depth_raw/camera_info|/tf|/tf_static'



#!/usr/bin/env bash
set -e

cd ~/Projects/teleoperation_spot/system_ws

source /opt/ros/jazzy/setup.bash
source install/setup.bash

STAMP=$(date +%Y%m%d_%H%M%S)

ros2 bag record -o "xtion_${STAMP}.bag" \
  --regex \
  '/.*/rgb/image_raw|/.*/rgb/camera_info|/.*/depth_raw/image|/.*/depth_raw/camera_info|/.*/depth/image|/.*/depth/camera_info|/tf|/tf_static'


ros2 bag play xtion_<timestamp>.bag
